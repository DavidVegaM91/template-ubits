/* ========================================
   UBITS DROPDOWN MENU COMPONENT
   Menú desplegable unificado: opciones con texto regular alineado a la izquierda,
   opcional autocomplete, footer con botones secundario y primario.
   ======================================== */

/* Overlay: cierre al clic fuera */
.ubits-dropdown-menu__overlay {
    position: fixed;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    z-index: 999;
    background: transparent;
}

/* Contenedor del panel: sin padding; enmascara con radius para que hover/opciones no se salgan en esquinas */
.ubits-dropdown-menu__content {
    position: fixed;
    min-width: 160px;
    max-width: 320px;
    background: var(--ubits-bg-1);
    border-radius: var(--border-radius-sm);
    box-shadow: var(--ubits-elevation-overlay);
    padding: 0;
    z-index: 1000;
    display: flex;
    flex-direction: column;
    gap: 0;
    box-sizing: border-box;
    overflow: hidden;
}

/* Bloque opcional: autocomplete (mismo padding que cada ítem de lista) */
.ubits-dropdown-menu__autocomplete-wrap {
    padding: var(--padding-sm) var(--padding-md);
}

.ubits-dropdown-menu__autocomplete-wrap .ubits-input-wrapper,
.ubits-dropdown-menu__autocomplete-wrap .ubits-dropdown-menu__search-wrapper {
    width: 100%;
    box-sizing: border-box;
    position: relative;
}

.ubits-dropdown-menu__autocomplete-wrap input {
    width: 100%;
    box-sizing: border-box;
}

/* Cuerpo personalizado (formularios, inputs de selección): padding y scroll si hace falta */
.ubits-dropdown-menu__custom-body {
    padding: var(--padding-md);
    max-height: 360px;
    overflow-y: auto;
    width: 100%;
    box-sizing: border-box;
}

/* Lista de opciones: ancho completo; alto máximo 350px con scroll si hay muchos ítems */
.ubits-dropdown-menu__options {
    display: flex;
    flex-direction: column;
    gap: 0;
    width: 100%;
    max-height: 350px;
    overflow-y: auto;
}

/* Fila de carga (scroll infinito): mismo padding que una opción */
.ubits-dropdown-menu__loading {
    display: flex;
    align-items: center;
    justify-content: center;
    gap: var(--gap-sm);
    padding: var(--padding-sm) var(--padding-md);
    font-family: 'Noto Sans', sans-serif;
    font-size: var(--font-size-sm);
    color: var(--ubits-fg-1-medium);
}

/* Una opción: padding propio, ocupa el ancho completo (como Select Input en input.html) */
.ubits-dropdown-menu__option {
    display: flex;
    align-items: center;
    justify-content: flex-start;
    gap: var(--gap-md);
    padding: var(--padding-sm) var(--padding-md);
    background: transparent;
    border: none;
    border-radius: 0;
    cursor: pointer;
    width: 100%;
    min-width: 0;
    box-sizing: border-box;
    text-align: left;
    font-family: 'Noto Sans', sans-serif;
    font-size: var(--font-size-sm);
    font-weight: var(--font-weight-regular);
    color: var(--ubits-fg-1-high);
    transition: background-color 0.15s ease;
    transform: none;
    box-shadow: none;
}

.ubits-dropdown-menu__option:hover {
    background: var(--ubits-bg-2);
    transform: none;
    box-shadow: none;
}

.ubits-dropdown-menu__option:active {
    transform: none;
}

.ubits-dropdown-menu__option--selected {
    background: var(--ubits-bg-3);
}

/* Texto de la opción (siempre regular, izquierda) */
.ubits-dropdown-menu__option-text {
    flex: 1;
    font-weight: var(--font-weight-regular);
    text-align: left;
    color: var(--ubits-fg-1-high);
}

/* Variante: opciones como lista de radios (componente oficial ubits-radio). Requiere radio-button.css */
.ubits-dropdown-menu__option--radio {
    cursor: pointer;
}

.ubits-dropdown-menu__option--radio .ubits-radio__label {
    flex: 1;
    text-align: left;
}

/* Elementos a la izquierda (avatar, icono, checkbox, etc.) */
.ubits-dropdown-menu__option-left {
    display: flex;
    align-items: center;
    flex-shrink: 0;
}

.ubits-dropdown-menu__option-avatar {
    width: 28px;
    height: 28px;
    border-radius: 50%;
    object-fit: cover;
    display: block;
    background: var(--ubits-bg-2);
}

.ubits-dropdown-menu__option-left i {
    font-size: var(--font-size-sm);
    color: var(--ubits-fg-1-medium);
    width: 16px;
    text-align: center;
}

/* Checkbox en opciones: se usa componente ubits-checkbox (checkbox.css). No estilizar input nativo aquí. */

/* Elementos a la derecha (icono, switch/toggle, etc.) */
.ubits-dropdown-menu__option-right {
    display: flex;
    align-items: center;
    flex-shrink: 0;
}

.ubits-dropdown-menu__option-right i {
    font-size: var(--font-size-sm);
    color: var(--ubits-fg-1-medium);
}

/* Toggle (switch): pill con bolita que se prende/apaga, no checkbox */
.ubits-dropdown-menu__option-right input[type="checkbox"][role="switch"] {
    -webkit-appearance: none;
    appearance: none;
    width: 32px;
    height: 18px;
    margin: 0;
    padding: 0;
    border: none;
    border-radius: 999px;
    background: var(--ubits-bg-2);
    cursor: pointer;
    position: relative;
    flex-shrink: 0;
    transition: background-color 0.2s ease;
}

.ubits-dropdown-menu__option-right input[type="checkbox"][role="switch"]:checked {
    background: var(--ubits-toggle-bg-active);
}

.ubits-dropdown-menu__option-right input[type="checkbox"][role="switch"]::after {
    content: '';
    position: absolute;
    top: 2px;
    left: 2px;
    width: 14px;
    height: 14px;
    border-radius: 50%;
    background: var(--ubits-bg-1);
    box-shadow: 0 1px 3px rgba(0, 0, 0, 0.15);
    transition: transform 0.2s ease;
}

.ubits-dropdown-menu__option-right input[type="checkbox"][role="switch"]:checked::after {
    transform: translateX(14px);
}

/* Footer: mismo padding que ítems de lista; dos botones a la derecha (secundario + primario) */
.ubits-dropdown-menu__footer {
    display: flex;
    justify-content: flex-end;
    align-items: center;
    gap: var(--gap-sm);
    padding: var(--padding-sm) var(--padding-md);
    border-top: 1px solid var(--ubits-border-1);
}
